meter.meter {
  appearance: none;
  inline-size: 100%;
  block-size: 1em;
}

@supports selector(::-moz-meter-bar) {
  meter.meter {
    border-radius: var(--radius-s);
    border: 0;
    display: block;
    inline-size: 100%;
    block-size: 1em;
    box-shadow: inset 0 0 0 var(--border-s) var(--color-outline);
    background: var(--color-gray-9);
    box-sizing: border-box;
    overflow: clip;
  }
}

.meter::-webkit-meter-bar {
  border-radius: var(--radius-s);
  border: 0;
  display: block;
  inline-size: 100%;
  block-size: 1em;
  box-shadow: inset 0 0 0 var(--border-s) var(--color-outline);
  background: var(--color-gray-9);
  box-sizing: border-box;
  overflow: clip;
}

.meter::-webkit-meter-optimum-value,
.meter::-webkit-meter-suboptimum-value,
.meter::-webkit-meter-even-less-good-value {
  border-radius: var(--radius-s);
  border: var(--border-s) solid transparent;
  box-sizing: border-box;
  background-size: 100vw;
  background-image: linear-gradient(
    to right,
    var(--meter-start-color),
    var(--meter-end-color)
  );
}

.meter::-webkit-meter-inner-element {
  display: inline-block;
  position: relative;
}

.meter::-moz-meter-bar {
  border-radius: var(--radius-s);
  border: var(--border-s) solid transparent;
  box-sizing: border-box;
  background-size: 100vw;
  background-image: linear-gradient(
    to right,
    var(--meter-start-color),
    var(--meter-end-color)
  );
}

.meter::-webkit-meter-optimum-value {
  --meter-start-color: var(--color-green-6);
  --meter-end-color: var(--color-green-4);

  border-color: var(--color-green-5);
}

.meter:-moz-meter-optimum::-moz-meter-bar {
  --meter-start-color: var(--color-green-6);
  --meter-end-color: var(--color-green-4);

  border-color: var(--color-green-5);
}

.meter::-webkit-meter-suboptimum-value {
  --meter-start-color: var(--color-yellow-7);
  --meter-end-color: var(--color-yellow-5);

  border-color: var(--color-yellow-6);

  @media (prefers-color-scheme: dark) {
    --meter-start-color: var(--color-yellow-6);
    --meter-end-color: var(--color-yellow-4);

    border-color: var(--color-yellow-5);
  }
}

.meter:-moz-meter-sub-optimum::-moz-meter-bar {
  --meter-start-color: var(--color-yellow-7);
  --meter-end-color: var(--color-yellow-5);

  border-color: var(--color-yellow-6);

  @media (prefers-color-scheme: dark) {
    --meter-start-color: var(--color-yellow-6);
    --meter-end-color: var(--color-yellow-4);

    border-color: var(--color-yellow-5);
  }
}

.meter::-webkit-meter-even-less-good-value {
  --meter-start-color: var(--color-red-6);
  --meter-end-color: var(--color-red-4);

  border-color: var(--color-red-5);
}

.meter:-moz-meter-sub-sub-optimum::-moz-meter-bar {
  --meter-start-color: var(--color-red-6);
  --meter-end-color: var(--color-red-4);

  border-color: var(--color-red-5);
}
